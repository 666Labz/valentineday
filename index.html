<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Buku Valentine</title>

<script src="https://cdn.jsdelivr.net/npm/page-flip@2.0.7/dist/js/page-flip.browser.min.js"></script>

<style>
body{
    margin:0;
    background:radial-gradient(circle,#222,#000);
    display:flex;
    flex-direction:column;
    align-items:center;
    justify-content:center;
    height:100vh;
    overflow:hidden;
    font-family:Segoe UI,sans-serif;
}

h1{
    color:#ff4d6d;
    margin:5px;
}

button{
    background:#ff4d6d;
    color:white;
    border:none;
    padding:8px 22px;
    border-radius:25px;
    cursor:pointer;
    margin-bottom:10px;
    font-size:14px;
}

/* ukuran buku diperkecil */
#book{
    width:720px;
    height:520px;
}

/* halaman */
.page{
    background:white;
    overflow:hidden;
    border-radius:7px;
    box-shadow:
        inset 0 0 8px rgba(0,0,0,.15),
        0 6px 18px rgba(0,0,0,.3);
}

/* gambar */
.page img{
    width:200%;
    height:100%;
    object-fit:cover;
}

/* potong kiri kanan dari 1 gambar horizontal */
.left img{transform:translateX(0)}
.right img{transform:translateX(-50%)}
</style>
</head>

<body>

<h1>Happy Valentine Sayang ❤️</h1>
<button onclick="toggleMusic()">▶ Play Music</button>

<div id="book"></div>

<audio id="music" src="music.mp3" loop></audio>

<script>
const spreads=[
    "spread1.jpg",
    "spread2.jpg",
    "spread3.jpg"
];

const pages=["cover-depan.jpg"];

spreads.forEach(src=>{
    pages.push({src,side:"left"});
    pages.push({src,side:"right"});
});

pages.push("cover-belakang.jpg");

const book=new St.PageFlip(
    document.getElementById("book"),
    {
        width:360,
        height:520,
        showCover:true,
        size:"fixed",
        flippingTime:900,
        maxShadowOpacity:0.6,
        useMouseEvents:true,
        mobileScrollSupport:true
    }
);

const elements=pages.map(p=>{
    const div=document.createElement("div");
    div.className="page";

    if(typeof p==="string"){
        div.innerHTML=`<img src="${p}" style="width:100%">`;
    }else{
        div.classList.add(p.side);
        div.innerHTML=`<img src="${p.src}">`;
    }
    return div;
});

book.loadFromHTML(elements);

let play=false;
function toggleMusic(){
    const m=document.getElementById("music");
    play=!play;
    play?m.play():m.pause();
}
</script>

</body>
</html>
